<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta property="og:type" content="website">
<meta property="og:title" content="Serena Han&#39;s Blog">
<meta property="og:url" content="https://transformerh.github.io/index.html">
<meta property="og:site_name" content="Serena Han&#39;s Blog">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Serena Han&#39;s Blog">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://transformerh.github.io/"/>





  <title>Serena Han's Blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Serena Han's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Follow the notes upon the journey.</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-sitemap">
          <a href="/sitemap.xml" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-sitemap"></i> <br />
            
            Sitemap
          </a>
        </li>
      
        
        <li class="menu-item menu-item-music">
          <a href="/music/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-music"></i> <br />
            
            Music
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://transformerh.github.io/2019/03/16/How-to-Shuffle-an-array/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xueying Han">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Serena Han's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/03/16/How-to-Shuffle-an-array/" itemprop="url">How to Shuffle an array</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-03-16T16:16:11-04:00">
                2019-03-16
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>random + swap<br>Key is changing the arrange of random number.</p>
<p>E.G. LC 384 Shuffle an array<br><figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">vector</span>&lt;<span class="keyword">int</span>&gt; shuffle() &#123;</span><br><span class="line">       <span class="keyword">vector</span>&lt;<span class="keyword">int</span>&gt; shu(original);</span><br><span class="line">       <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; shu.<span class="keyword">size</span>(); i++)&#123;</span><br><span class="line">           <span class="keyword">int</span> ind = <span class="keyword">rand</span>() % (shu.<span class="keyword">size</span>() - i);</span><br><span class="line">           swap(shu[i], shu[i+ind]);</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> shu;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://transformerh.github.io/2019/02/19/Red-black-tree/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xueying Han">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Serena Han's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/02/19/Red-black-tree/" itemprop="url">Red-black tree</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-02-19T15:17:40-05:00">
                2019-02-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h3><p><a href="https://www.cs.auckland.ac.nz/software/AlgAnim/red_black.html" target="_blank" rel="noopener">https://www.cs.auckland.ac.nz/software/AlgAnim/red_black.html</a></p>
<h3 id="Priorities"><a href="#Priorities" class="headerlink" title="Priorities"></a>Priorities</h3><ul>
<li>the root is black node.</li>
<li>the red node’s parent and children should be black.</li>
<li>we assume the null nodes are black node.</li>
<li>we assume the new inserted node is red.</li>
</ul>
<h3 id="Operations"><a href="#Operations" class="headerlink" title="Operations"></a>Operations</h3><ul>
<li>search<ul>
<li>red-black tree is a binary search tree, so…</li>
</ul>
</li>
<li>rotate<ul>
<li>left-rotate</li>
<li>right-rote</li>
<li>rotate steps: rotate node x and node y<ol>
<li>exchange their children</li>
<li>exchange their parents</li>
<li>change their positions</li>
</ol>
</li>
</ul>
</li>
<li>insertion : let x(point to red node) move up.<ul>
<li>example: <a href="https://www.cs.auckland.ac.nz/software/AlgAnim/red_black_op.html" target="_blank" rel="noopener">https://www.cs.auckland.ac.nz/software/AlgAnim/red_black_op.html</a></li>
<li>case 1: insert node x is red, x’s parent is red, x’s uncle is red, x’s grandparent must be black.<ul>
<li>change x’s parent color and x’s uncle color to black</li>
<li>change x’s grandparent color to red.</li>
<li>assign x’s grandparent to x (set the new red node)</li>
</ul>
</li>
<li>case 2: insert node x is red, x’s parent is red, x’s uncle is black, x’s grandparent must be black.<ul>
<li>assign x’s parent to x (x moves up)</li>
<li>if original x is right child, then rotate left, otherwise rotate right.</li>
<li>change x’s parent color to black and change x’ grandparent color to red.</li>
<li>rotate x’s parent with x’s grandparent.</li>
</ul>
</li>
</ul>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://transformerh.github.io/2019/02/18/C-review-template/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xueying Han">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Serena Han's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/02/18/C-review-template/" itemprop="url">C++ - review - template</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-02-18T00:24:11-05:00">
                2019-02-18
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="class-templates"><a href="#class-templates" class="headerlink" title="class templates"></a>class templates</h3><ul>
<li><p>template arguments</p>
<ul>
<li><p>one argument</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">template</span>&lt;<span class="selector-tag">class</span> <span class="selector-tag">T</span>&gt;</span><br><span class="line"><span class="selector-tag">class</span> <span class="selector-tag">ClassName</span>&#123;</span><br><span class="line"><span class="attribute">private</span>:</span><br><span class="line">  T pa;</span><br><span class="line"><span class="attribute">public</span>:</span><br><span class="line">  <span class="built_in">ClassName</span>(T a): <span class="built_in">pa</span>(a)&#123;&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>multiple arguments</p>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">template</span>&lt;<span class="keyword">class</span> <span class="type">T</span>, <span class="keyword">class</span> <span class="type">U</span>&gt;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="type">ClassName</span>&#123;</span></span><br><span class="line"><span class="class">private:</span></span><br><span class="line"><span class="class">  <span class="type">T</span> a;</span></span><br><span class="line"><span class="class">  <span class="type">U</span> b;</span></span><br><span class="line"><span class="class">public:</span></span><br><span class="line"><span class="class">  <span class="type">ClassName</span>(<span class="type">T</span> <span class="title">pa</span>, <span class="type">U</span> <span class="title">pb</span>): a(<span class="title">pa</span>), b(<span class="title">pb</span>)&#123;&#125;</span></span><br><span class="line"><span class="class">&#125;;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>default-type argument</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>, <span class="title">class</span> <span class="title">Alloc</span> = <span class="title">std</span>:</span>:allocator&lt;T&gt;&gt;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ClassName</span>&#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">  T a;</span><br><span class="line">  Alloc _alloc;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  ClassName(T pa): a(pa)&#123;&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>template specialization</p>
<ul>
<li>when specialize the function, template declaration should be <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">*</span><br></pre></td></tr></table></figure></li>
</ul>
<p>#include <iostream><br>using namespace std;<br>template<class t=""><br>class TemplateClass{<br>public:</class></iostream></p>
<pre><code>static int count;
TemplateClass(){count++;}
void output(){
    cout &lt;&lt; count &lt;&lt; endl;
}
</code></pre><p>};<br>template<class t=""><br>int TemplateClass<t>::count = 0;</t></class></p>
<p>template&lt;&gt;<br>void TemplateClass<int>::output(){</int></p>
<pre><code>cout &lt;&lt; &quot;template specialize int: &quot; &lt;&lt; count &lt;&lt; endl;
</code></pre><p>}</p>
<p>template&lt;&gt;<br>void TemplateClass<double>::output(){</double></p>
<pre><code>cout &lt;&lt; &quot;template specialize double: &quot; &lt;&lt; count &lt;&lt; endl;
</code></pre><p>}<br>int main(int argc, const char * argv[]) {</p>
<pre><code>TemplateClass&lt;int&gt; tem1;
tem1.output();
TemplateClass&lt;int&gt; tem2;
tem2.output();
TemplateClass&lt;double&gt; tem3;
tem3.output();
TemplateClass&lt;double&gt; tem4;
tem4.output();
return 0;
</code></pre><p>}</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* template <span class="keyword">and</span> static variables</span><br><span class="line">  * initialize static class variables outside the class</span><br><span class="line">  * instances with different types will hold their own static variables</span><br><span class="line">  * instances with same<span class="built_in"> type </span>will share one static variable</span><br></pre></td></tr></table></figure>
<p>#include <iostream><br>using namespace std;<br>template<class t=""><br>class TemplateClass{<br>public:</class></iostream></p>
<pre><code>static int count;
TemplateClass(){count++;}
void output(){
    cout &lt;&lt; count &lt;&lt; endl;
}
</code></pre><p>};<br>template<class t=""><br>int TemplateClass<t>::count = 0;</t></class></p>
<p>int main(int argc, const char * argv[]) {</p>
<pre><code>TemplateClass&lt;int&gt; tem1;
tem1.output();
TemplateClass&lt;int&gt; tem2;
tem2.output();
TemplateClass&lt;double&gt; tem3;
tem3.output();
TemplateClass&lt;double&gt; tem4;
tem4.output();
return 0;
</code></pre><p>}<br>//output is 1 2 1 2<br><code>`</code></p>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://transformerh.github.io/2019/02/17/C-STL-string/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xueying Han">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Serena Han's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/02/17/C-STL-string/" itemprop="url">C++ -- STL -- string</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-02-17T15:10:25-05:00">
                2019-02-17
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h5 id="STL-string"><a href="#STL-string" class="headerlink" title="STL-string"></a>STL-string</h5><figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  main.cpp</span></span><br><span class="line"><span class="comment">//  CString</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Created by 韩雪滢 on 2019/2/17.</span></span><br><span class="line"><span class="comment">//  Copyright © 2019 韩雪滢. All rights reserved.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line">#include &lt;iostream&gt;</span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">class CString&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">char</span>* <span class="built_in">str</span>;</span><br><span class="line">    <span class="built_in">char</span>&amp; operator[](<span class="built_in">int</span> index);</span><br><span class="line">    friend CString operator+ (<span class="keyword">const</span> CString&amp; cstr1, <span class="keyword">const</span> CString&amp; cstr2);</span><br><span class="line">    friend CString operator+= (CString&amp; cstr1, <span class="keyword">const</span> CString&amp; cstr2);</span><br><span class="line">    friend bool operator== (<span class="keyword">const</span> CString&amp; cstr1, <span class="keyword">const</span> CString&amp; cstr2);</span><br><span class="line">    friend ostream&amp; operator&lt;&lt;(ostream&amp; os, <span class="keyword">const</span> CString&amp; cstr);</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    CString(<span class="keyword">const</span> <span class="built_in">char</span>* cstr = nullptr);</span><br><span class="line">    CString(<span class="keyword">const</span> CString&amp; cstr):<span class="built_in">str</span>(<span class="keyword">new</span> <span class="built_in">char</span>[cstr.length()+<span class="number">1</span>])&#123;</span><br><span class="line">        strcpy(<span class="built_in">str</span>, cstr.<span class="built_in">str</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    size_t length() <span class="keyword">const</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> strlen(<span class="built_in">str</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    ~CString()&#123;</span><br><span class="line"><span class="comment">//        if(str != nullptr)&#123;</span></span><br><span class="line"><span class="comment">//            delete [] str;</span></span><br><span class="line"><span class="comment">//            str = nullptr;</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">CString::CString(<span class="keyword">const</span> <span class="built_in">char</span>* cstr)&#123;</span><br><span class="line">    <span class="keyword">if</span>(cstr == nullptr)&#123;</span><br><span class="line">        <span class="built_in">str</span> = <span class="keyword">new</span> <span class="built_in">char</span>[<span class="number">1</span>];</span><br><span class="line">        *<span class="built_in">str</span> = <span class="string">'\0'</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">str</span> = <span class="keyword">new</span> <span class="built_in">char</span>[strlen(cstr) + <span class="number">1</span>];</span><br><span class="line">        strcpy(<span class="built_in">str</span>, cstr);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">char</span>&amp; CString::operator[](<span class="built_in">int</span> index)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">str</span>[index];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">CString operator+ (<span class="keyword">const</span> CString&amp; cstr1, <span class="keyword">const</span> CString&amp; cstr2)&#123;</span><br><span class="line">    CString nstr(<span class="keyword">new</span> <span class="built_in">char</span>[cstr1.length() + cstr2.length() + <span class="number">1</span>]);</span><br><span class="line">    strcpy(nstr.<span class="built_in">str</span>, cstr1.<span class="built_in">str</span>);</span><br><span class="line">    strcat(nstr.<span class="built_in">str</span>, cstr2.<span class="built_in">str</span>);</span><br><span class="line">    <span class="keyword">return</span> nstr;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">CString operator+= (CString&amp; cstr1, <span class="keyword">const</span> CString&amp; cstr2)&#123;</span><br><span class="line">    cstr1 = cstr1 + cstr2;</span><br><span class="line">    <span class="keyword">return</span> cstr1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">bool operator== (<span class="keyword">const</span> CString&amp; cstr1, <span class="keyword">const</span> CString&amp; cstr2)&#123;</span><br><span class="line">    <span class="keyword">if</span>(strcmp(cstr1.<span class="built_in">str</span>, cstr2.<span class="built_in">str</span>) == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br><span class="line">ostream&amp; operator&lt;&lt;(ostream&amp; os, <span class="keyword">const</span> CString&amp; cstr)&#123;</span><br><span class="line">    os &lt;&lt; cstr.<span class="built_in">str</span>;</span><br><span class="line">    <span class="keyword">return</span> os;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">int</span> main(<span class="built_in">int</span> argc, <span class="keyword">const</span> <span class="built_in">char</span> * argv[]) &#123;</span><br><span class="line">    CString str1(<span class="string">"Ivy "</span>);</span><br><span class="line">    CString str2(<span class="string">"Loves "</span>);</span><br><span class="line">    CString str3(<span class="string">"C++"</span>);</span><br><span class="line">    CString <span class="built_in">str</span>(<span class="string">""</span>);</span><br><span class="line">    str1 += str2;</span><br><span class="line">    <span class="built_in">str</span> = str1 + str3;</span><br><span class="line">    cout &lt;&lt; <span class="built_in">str</span> &lt;&lt; endl;</span><br><span class="line">    CString str4(<span class="built_in">str</span>);</span><br><span class="line">    cout &lt;&lt; str4 &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="C-Review"><a href="#C-Review" class="headerlink" title="C++ Review"></a>C++ Review</h5><ul>
<li><p>operator overloading</p>
<ul>
<li>one argument : function remember</li>
<li>two arguments: friend function of the class</li>
<li>CString operator += (CString&amp; cstr1, const CString&amp; cstr2); // the first argument is not constant, because it will be rewrite.</li>
<li>ostream&amp; operator &lt;&lt; (ostream&amp; os, const CString&amp; str1)</li>
</ul>
</li>
<li><p>char*</p>
<ul>
<li>strcpy(char<em> dst, char</em> src)</li>
<li>strcat(char<em> dst, char</em> src)</li>
<li>strlen(char*)</li>
<li>strcmp(const char<em> str1, const char</em> str2)</li>
<li>the last one of a char* is ‘\0’</li>
</ul>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://transformerh.github.io/2019/02/16/C-review-priority-queue/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xueying Han">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Serena Han's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/02/16/C-review-priority-queue/" itemprop="url">C++ review - priority queue</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-02-16T23:55:09-05:00">
                2019-02-16
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="C-review-priority-queue"><a href="#C-review-priority-queue" class="headerlink" title="C++ review - priority_queue"></a>C++ review - priority_queue</h2><h5 id="Compare-function"><a href="#Compare-function" class="headerlink" title="Compare function"></a>Compare function</h5><p>I’m always confused by the compare function in priority_queue.<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">compare_function</span>&#123;</span></span><br><span class="line">  <span class="function"><span class="keyword">bool</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="keyword">const</span> compare_item&amp; item1, <span class="keyword">const</span> compare_item&amp; item2)</span></span>&#123;</span><br><span class="line">     <span class="comment">// return item1 &lt; item2; if you want a max heap</span></span><br><span class="line">     <span class="comment">// return item1 &gt; item2; if you want a min heap</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">priority_queue&lt;compare_item, <span class="built_in">vector</span>&lt;compare_item&gt;, compare_function&gt; pq;</span><br></pre></td></tr></table></figure></p>
<p>Just make sense for remembering the rule:<br>Consider using priority queue to implement a heap.<br>Implement a max heap, item1 &lt; item2 means that the item1 on the lower layer is smaller than the item2 on the top layer.<br>In contrast, implement a min heap, item1 &gt; item2 means that the item1 on the lower layer is larger than the item2 on the higher layer.</p>
<h5 id="using-map-with-priority-queue"><a href="#using-map-with-priority-queue" class="headerlink" title="using map with priority_queue"></a>using map with priority_queue</h5><p>Just convert the map into a vector which contains pairs.<br>So, the declaration of priority_queue is<br><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">priority_queue&lt;pair&lt;<span class="built_in">key</span>, value&gt;, <span class="built_in">vector</span>&lt;pair&lt;<span class="built_in">key</span>, value&gt;&gt;, compare_function&gt; pq(<span class="built_in">map</span>.begin(), <span class="built_in">map</span>.end());</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://transformerh.github.io/2019/02/15/LC-87-Scramble-String/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xueying Han">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Serena Han's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/02/15/LC-87-Scramble-String/" itemprop="url">LC 87 Scramble String</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-02-15T01:06:39-05:00">
                2019-02-15
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="LC-87-Scramble-String"><a href="#LC-87-Scramble-String" class="headerlink" title="LC 87 Scramble String"></a>LC 87 Scramble String</h3><p>Given a string s1, we may represent it as a binary tree by partitioning it to two non-empty substrings recursively.</p>
<p>Below is one possible representation of s1 = “great”:</p>
<pre><code>great
</code></pre><p>   /    \<br>  gr    eat<br> / \    /  \<br>g   r  e   at<br>           / \<br>          a   t<br>To scramble the string, we may choose any non-leaf node and swap its two children.</p>
<p>For example, if we choose the node “gr” and swap its two children, it produces a scrambled string “rgeat”.</p>
<pre><code>rgeat
</code></pre><p>   /    \<br>  rg    eat<br> / \    /  \<br>r   g  e   at<br>           / \<br>          a   t<br>We say that “rgeat” is a scrambled string of “great”.</p>
<p>Similarly, if we continue to swap the children of nodes “eat” and “at”, it produces a scrambled string “rgtae”.</p>
<pre><code>rgtae
</code></pre><p>   /    \<br>  rg    tae<br> / \    /  \<br>r   g  ta  e<br>       / \<br>      t   a<br>We say that “rgtae” is a scrambled string of “great”.</p>
<p>Given two strings s1 and s2 of the same length, determine if s2 is a scrambled string of s1.</p>
<p>Example 1:</p>
<p>Input: s1 = “great”, s2 = “rgeat”<br>Output: true<br>Example 2:</p>
<p>Input: s1 = “abcde”, s2 = “caebd”</p>
<h2 id="Output-false"><a href="#Output-false" class="headerlink" title="Output: false"></a>Output: false</h2><p>Tag: Enumeration, Recursion</p>
<p>The important idea is that if the number of characters is equal between the string1 and string2, that means string2 is one of string1’s enumerations. And we all know that one enumeration can be transform to another one by swapping.</p>
<h2 id="So-what-we-need-to-do-is-just-check-whether-the-two-strings-are-enumerations"><a href="#So-what-we-need-to-do-is-just-check-whether-the-two-strings-are-enumerations" class="headerlink" title="So, what we need to do is just check whether the two strings are enumerations."></a>So, what we need to do is just check whether the two strings are enumerations.</h2><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line"><span class="symbol">public:</span></span><br><span class="line">    <span class="keyword">bool </span>isScramble(string <span class="built_in">s1</span>, string <span class="built_in">s2</span>) &#123;</span><br><span class="line">        if(<span class="built_in">s1</span> == <span class="built_in">s2</span>)</span><br><span class="line">            return true<span class="comment">;</span></span><br><span class="line">        vector&lt;char&gt; alpha(<span class="number">26</span>, <span class="number">0</span>)<span class="comment">;</span></span><br><span class="line">        for(int i = <span class="number">0</span><span class="comment">; i &lt; s1.length(); i++)&#123;</span></span><br><span class="line">            alpha[<span class="built_in">s1</span>[i] - <span class="string">'a'</span>]++<span class="comment">;</span></span><br><span class="line">            alpha[<span class="built_in">s2</span>[i] - <span class="string">'a'</span>]--<span class="comment">;</span></span><br><span class="line">        &#125;</span><br><span class="line">        for(int i = <span class="number">0</span><span class="comment">; i &lt; 26; i++)&#123;</span></span><br><span class="line">            if(alpha[i] != <span class="number">0</span>)</span><br><span class="line">                return false<span class="comment">;</span></span><br><span class="line">        &#125;</span><br><span class="line">        for(int i = <span class="number">1</span><span class="comment">; i &lt; s1.length(); i++)&#123;</span></span><br><span class="line">            if(isScramble(<span class="built_in">s1</span>.<span class="keyword">substr(0, </span>i), <span class="built_in">s2</span>.<span class="keyword">substr(0, </span>i)) &amp;&amp; isScramble(<span class="built_in">s1</span>.<span class="keyword">substr(i), </span><span class="built_in">s2</span>.<span class="keyword">substr(i)))</span></span><br><span class="line"><span class="keyword"> </span>               return true<span class="comment">;</span></span><br><span class="line">            if(isScramble(<span class="built_in">s1</span>.<span class="keyword">substr(0, </span>i), <span class="built_in">s2</span>.<span class="keyword">substr(s1.length()-i)) </span>&amp;&amp; isScramble(<span class="built_in">s1</span>.<span class="keyword">substr(i), </span><span class="built_in">s2</span>.<span class="keyword">substr(0, </span><span class="built_in">s1</span>.length()-i)))</span><br><span class="line">                return true<span class="comment">;</span></span><br><span class="line">        &#125;</span><br><span class="line">        return false<span class="comment">;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;<span class="comment">;</span></span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://transformerh.github.io/2019/02/14/LC-72-Edit-Distance/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xueying Han">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Serena Han's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/02/14/LC-72-Edit-Distance/" itemprop="url">LC 72 Edit Distance</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-02-14T12:07:42-05:00">
                2019-02-14
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="DP-LC-72-Edit-Distance"><a href="#DP-LC-72-Edit-Distance" class="headerlink" title="DP-LC 72 Edit Distance"></a>DP-LC 72 Edit Distance</h3><p>dp[i][j]: the minimum steps to convert word1[0…i] to word2[0…j]<br>i : [0… word1.length()] the length of word1, i == 0 =&gt; word1 is an empty string<br>j: [0…word2.length()] the length of word2</p>
<p>dynamic programming idea:<br> Assume we know the previous result dp[i-1]<a href="we know how many steps to convert word1[0... i-2](length is i-1">j-1</a> to word2<a href="length is j-1">0… j-2</a>)<br> if word1[i-1] == word2[j-1], that means we don’t need to do conversion, dp[i][j] = dp[i-1][j-1].<br> else<br> there are three options to convert the word1[i-1] to word2[j-1]<br> replace: dp[i][j] = dp[i-1][j-1] + 1;<br> delete: word1[0… i-2] == word2[0… j-1] dp[i][j] = dp[i-1][j] + 1;<br> insert: word1[0…i-1] == word2[0… j-2] dp[i][j] = dp[i][j-1] + 1</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">minDistance</span><span class="params">(<span class="built_in">string</span> word1, <span class="built_in">string</span> word2)</span> </span>&#123;</span><br><span class="line">   <span class="keyword">int</span> m = (<span class="keyword">int</span>)word1.length();</span><br><span class="line">   <span class="keyword">int</span> n = (<span class="keyword">int</span>)word2.length();</span><br><span class="line">   <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; dp(m+<span class="number">1</span>, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(n+<span class="number">1</span>, <span class="number">0</span>));</span><br><span class="line"></span><br><span class="line">   <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i &lt;= m; i++)</span><br><span class="line">       dp[i][<span class="number">0</span>] = i;</span><br><span class="line">   <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; j++)</span><br><span class="line">       dp[<span class="number">0</span>][j] = j;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; i++)&#123;</span><br><span class="line">       <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; j++)&#123;</span><br><span class="line">           <span class="keyword">if</span>(word1[i<span class="number">-1</span>] == word2[j<span class="number">-1</span>])</span><br><span class="line">               dp[i][j] = dp[i<span class="number">-1</span>][j<span class="number">-1</span>];</span><br><span class="line">           <span class="keyword">else</span></span><br><span class="line">               dp[i][j] = min(min(dp[i<span class="number">-1</span>][j<span class="number">-1</span>]+<span class="number">1</span>, dp[i<span class="number">-1</span>][j]+<span class="number">1</span>), dp[i][j<span class="number">-1</span>]+<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">return</span> dp[m][n];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://transformerh.github.io/2019/02/14/Median-of-unsorted-array/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xueying Han">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Serena Han's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/02/14/Median-of-unsorted-array/" itemprop="url">Median of unsorted array</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-02-14T11:57:39-05:00">
                2019-02-14
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="Median-of-unsorted-array"><a href="#Median-of-unsorted-array" class="headerlink" title="Median of unsorted array"></a>Median of unsorted array</h3><p>min heap : special case of K-th largest/smallest of unsorted array.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">medianOfUnsortedArray</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; <span class="built_in">array</span>)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> mid = <span class="built_in">array</span>.size() / <span class="number">2</span> + <span class="number">1</span>;</span><br><span class="line">    priority_queue&lt;<span class="keyword">int</span>, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;, greater&lt;<span class="keyword">int</span>&gt;&gt; pq;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> num : <span class="built_in">array</span>)&#123;</span><br><span class="line">        pq.push(num);</span><br><span class="line">        <span class="keyword">if</span>(pq.size() &gt; mid)&#123;</span><br><span class="line">            pq.pop();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> res;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">array</span>.size() % <span class="number">2</span> == <span class="number">0</span>)&#123;</span><br><span class="line">        res = pq.top(); pq.pop();</span><br><span class="line">        res = (res + pq.top()) / <span class="number">2</span>; pq.pop();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        res = pq.top();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://transformerh.github.io/2019/02/14/LC743-Network-Delay-Time/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xueying Han">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Serena Han's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/02/14/LC743-Network-Delay-Time/" itemprop="url">LC743 Network Delay Time</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-02-14T00:37:26-05:00">
                2019-02-14
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">networkDelayTime</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; times, <span class="keyword">int</span> N, <span class="keyword">int</span> K)</span> </span>&#123;</span><br><span class="line">       <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; nodes(N+<span class="number">1</span>, INT_MAX);</span><br><span class="line">       nodes[K] = <span class="number">0</span>;</span><br><span class="line">       <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)&#123;</span><br><span class="line">       <span class="keyword">for</span>(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; t : times)&#123;</span><br><span class="line">           <span class="keyword">int</span> u = t[<span class="number">0</span>];</span><br><span class="line">           <span class="keyword">int</span> v = t[<span class="number">1</span>];</span><br><span class="line">           <span class="keyword">int</span> w = t[<span class="number">2</span>];</span><br><span class="line">           <span class="keyword">if</span>(nodes[u] != INT_MAX &amp;&amp; nodes[u] + w &lt; nodes[v])</span><br><span class="line">               nodes[v] = nodes[u] + w;</span><br><span class="line">       &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">int</span> res = INT_MIN;</span><br><span class="line">       <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; i++)&#123;</span><br><span class="line">           res = max(res, nodes[i]);</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> res == INT_MAX ? <span class="number">-1</span> : res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://transformerh.github.io/2019/02/13/Vector-realization/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xueying Han">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Serena Han's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/02/13/Vector-realization/" itemprop="url">Vector realization</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-02-13T22:09:58-05:00">
                2019-02-13
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Vector-version1-allocator-pointers"><a href="#Vector-version1-allocator-pointers" class="headerlink" title="Vector-version1-allocator + pointers"></a>Vector-version1-allocator + pointers</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  main.cpp</span></span><br><span class="line"><span class="comment">//  MyVector</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Created by 韩雪滢 on 2019/2/12.</span></span><br><span class="line"><span class="comment">//  Copyright © 2019 韩雪滢. All rights reserved.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;memory&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>, <span class="title">class</span> <span class="title">Alloc</span> = <span class="title">std</span>:</span>:allocator&lt;T&gt;&gt; <span class="class"><span class="keyword">class</span> <span class="title">myVector</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">typedef</span> T value_type;</span><br><span class="line">    <span class="keyword">typedef</span> value_type* iterator;</span><br><span class="line">    <span class="keyword">typedef</span> <span class="keyword">const</span> value_type* const_iterator;</span><br><span class="line">    <span class="keyword">typedef</span> value_type&amp; reference;</span><br><span class="line">    <span class="keyword">typedef</span> value_type* pointer;</span><br><span class="line">    <span class="keyword">typedef</span> <span class="keyword">size_t</span> size_type;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">    Alloc _alloc;</span><br><span class="line">    iterator _start;</span><br><span class="line">    iterator _end;</span><br><span class="line">    iterator _end_of_storage;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    myVector(): _start(<span class="number">0</span>), _end(<span class="number">0</span>), _end_of_storage(<span class="number">0</span>)&#123;&#125;</span><br><span class="line">    myVector(size_type n, <span class="keyword">const</span> T&amp; value);</span><br><span class="line">    myVector(<span class="keyword">const</span> myVector&amp; v);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function">iterator <span class="title">begin</span><span class="params">()</span> </span>&#123;<span class="keyword">return</span> _start;&#125;</span><br><span class="line">    <span class="function">iterator <span class="title">end</span><span class="params">()</span> </span>&#123;<span class="keyword">return</span> _end;&#125;</span><br><span class="line">    reference <span class="keyword">operator</span>[] (size_type n)&#123;<span class="keyword">return</span> *(begin() + n);&#125;</span><br><span class="line">    myVector&amp; <span class="keyword">operator</span>= (<span class="keyword">const</span> myVector&amp; rv);</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">push_back</span><span class="params">(<span class="keyword">const</span> T&amp; value)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">insert_aux</span><span class="params">(iterator position, <span class="keyword">const</span> T&amp; x)</span></span>;</span><br><span class="line">    <span class="function">size_type <span class="title">size</span><span class="params">()</span></span>&#123;<span class="keyword">return</span> size_type(end() - begin());&#125;</span><br><span class="line">    <span class="keyword">void</span> _destroy();</span><br><span class="line">    <span class="function">const_iterator <span class="title">cbegin</span><span class="params">()</span> <span class="keyword">const</span></span>&#123;<span class="keyword">return</span> _start;&#125;</span><br><span class="line">    <span class="function">const_iterator <span class="title">cend</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;<span class="keyword">return</span> _end;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">(iterator position, <span class="keyword">const</span> T&amp; value)</span></span>;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>, <span class="title">class</span> <span class="title">Alloc</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">myVector</span>&lt;T, Alloc&gt;:</span>:myVector(size_type n, <span class="keyword">const</span> T&amp; value)&#123;</span><br><span class="line">    _start = _alloc.allocate(n);</span><br><span class="line">    <span class="built_in">std</span>::uninitialized_fill(_start, _start + n, value);</span><br><span class="line">    _end = _end_of_storage = _start + n;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>, <span class="title">class</span> <span class="title">Alloc</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">myVector</span>&lt;T, Alloc&gt;:</span>:myVector(<span class="keyword">const</span> myVector&amp; v)&#123;</span><br><span class="line">    _start = _alloc.allocate(v.cend() - v.cbegin());</span><br><span class="line">    _end = uninitialized_copy(v.cbegin(), v.cend(), _start);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>, <span class="title">class</span> <span class="title">Alloc</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">void</span> <span class="title">myVector</span>&lt;T, Alloc&gt;:</span>:_destroy()&#123;</span><br><span class="line">    <span class="keyword">if</span>(_start)&#123;</span><br><span class="line">        <span class="function">iterator <span class="title">it</span><span class="params">(_end)</span></span>;</span><br><span class="line">        <span class="keyword">while</span>(it != _start)&#123;</span><br><span class="line">            _alloc.destroy(it--);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    _alloc.deallocate(_start, _end_of_storage - _start);</span><br><span class="line">    _start = _end_of_storage = <span class="literal">nullptr</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>, <span class="title">class</span> <span class="title">Alloc</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">void</span> <span class="title">myVector</span>&lt;T, Alloc&gt;:</span>:insert_aux(iterator position, <span class="keyword">const</span> T &amp;x)&#123;</span><br><span class="line">    <span class="keyword">if</span>(_end == _end_of_storage)&#123;</span><br><span class="line">        size_type ori_size = size();</span><br><span class="line">        size_type len = ori_size ? ori_size * <span class="number">2</span> : <span class="number">1</span>;</span><br><span class="line">        iterator new_start = _alloc.allocate(len);</span><br><span class="line">        iterator new_end = new_start;</span><br><span class="line">        new_end = uninitialized_copy(_start, position, new_start);</span><br><span class="line">        _alloc.construct(new_end, x);</span><br><span class="line">        new_end++;</span><br><span class="line">        new_end = uninitialized_copy(position, _end, new_end);</span><br><span class="line">        _destroy();</span><br><span class="line">        _start = new_start;</span><br><span class="line">        _end = new_end;</span><br><span class="line">        _end_of_storage = _start + len;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>, <span class="title">class</span> <span class="title">Alloc</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">void</span> <span class="title">myVector</span>&lt;T, Alloc&gt;:</span>:push_back(<span class="keyword">const</span> T &amp;value)&#123;</span><br><span class="line">    <span class="keyword">if</span>(_end != _end_of_storage)&#123;</span><br><span class="line">        _alloc.construct(_end, value);</span><br><span class="line">        _end++;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        insert_aux(end(), value);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>, <span class="title">class</span> <span class="title">Alloc</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">myVector</span>&lt;T, Alloc&gt;&amp; <span class="title">myVector</span>&lt;T, Alloc&gt;:</span>:<span class="keyword">operator</span>=(<span class="keyword">const</span> myVector&lt;T, Alloc&gt; &amp;rv)&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span> == &amp;rv)</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    _start = _alloc.allocate(rv.cend() - rv.cbegin());</span><br><span class="line">    _end = _end_of_storage = uninitialized_copy(rv.cbegin(), rv.cend(), _start);</span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>, <span class="title">class</span> <span class="title">Alloc</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">void</span> <span class="title">myVector</span>&lt;T, Alloc&gt;:</span>:insert(iterator position, <span class="keyword">const</span> T &amp;value)&#123;</span><br><span class="line">    <span class="keyword">if</span>(_end == _end_of_storage)&#123;</span><br><span class="line">        size_type len = size() * <span class="number">2</span>;</span><br><span class="line">        iterator new_start = _alloc.allocate(len);</span><br><span class="line">        iterator new_end = uninitialized_copy(_start, position, new_start);</span><br><span class="line">        _alloc.construct(new_end, value);</span><br><span class="line">        new_end++;</span><br><span class="line">        new_end = uninitialized_copy(position, _end, new_end);</span><br><span class="line">        _destroy();</span><br><span class="line">        _start = new_start;</span><br><span class="line">        _end = new_end;</span><br><span class="line">        _end_of_storage = _start + len;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        iterator old_end = _end;</span><br><span class="line">        _end += <span class="number">1</span>;</span><br><span class="line">        copy_backward(position, old_end, _end);</span><br><span class="line">        _alloc.construct(position, value);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[])</span> </span>&#123;</span><br><span class="line">    myVector&lt;<span class="keyword">int</span>&gt; vec(<span class="number">3</span>, <span class="number">1</span>);</span><br><span class="line">    myVector&lt;<span class="keyword">int</span>&gt; vec2(<span class="number">5</span>, <span class="number">1</span>);</span><br><span class="line">    vec.push_back(<span class="number">3</span>);</span><br><span class="line">    vec2 = vec;</span><br><span class="line"></span><br><span class="line">    myVector&lt;<span class="keyword">int</span>&gt; vec3(vec2);</span><br><span class="line">    vec3.insert(vec3.begin()+<span class="number">2</span>, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; vec3.size(); i++)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; vec3[i] &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="C-Review"><a href="#C-Review" class="headerlink" title="C++ Review:"></a>C++ Review:</h4><ul>
<li>std::allocator() <a href="https://www.geeksforgeeks.org/stdallocator-in-cpp-with-examples/" target="_blank" rel="noopener">https://www.geeksforgeeks.org/stdallocator-in-cpp-with-examples/</a></li>
<li>Template <a href="https://www.geeksforgeeks.org/templates-cpp/" target="_blank" rel="noopener">https://www.geeksforgeeks.org/templates-cpp/</a></li>
<li><p>operator overloading <a href="https://www.geeksforgeeks.org/stdallocator-in-cpp-with-examples/" target="_blank" rel="noopener">https://www.geeksforgeeks.org/stdallocator-in-cpp-with-examples/</a></p>
</li>
<li><p>size_t : is defined to be an unsigned integer with enough bytes to represent the size of any type<br>ForwardIterator uninitialized_copy(InputIterator first, InputIterator last, ForwardIterator result)</p>
</li>
</ul>
<p>allocator:</p>
<ul>
<li>destroy: destroy in-place the object pointed by pointer, does not deallocate the storage for the element</li>
<li>deallocate: releases the storage previously allocated by the allocator</li>
<li>construct:  allocator.construct ( pointer, obj ) : construct an element object on the location pointed by the pointer</li>
<li>pointer allocate(size_type n): allocate a block of storage to contain n elements of type value_type and return a pointer to the first element.</li>
</ul>
<h2 id="Vector-version2-array-realloc"><a href="#Vector-version2-array-realloc" class="headerlink" title="Vector - version2 - array + realloc"></a>Vector - version2 - array + realloc</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">AVector</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">typedef</span> T value_type;</span><br><span class="line">    <span class="keyword">typedef</span> <span class="keyword">size_t</span> size_type;</span><br><span class="line">    <span class="keyword">typedef</span> value_type* iterator;</span><br><span class="line">    value_type* <span class="built_in">array</span>;</span><br><span class="line">    size_type allSize;</span><br><span class="line">    size_type usedSize;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    AVector(): allSize(<span class="number">1</span>), usedSize(<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="built_in">array</span> = <span class="keyword">new</span> value_type[allSize];</span><br><span class="line">    &#125;</span><br><span class="line">    AVector(<span class="keyword">const</span> AVector&amp; av);</span><br><span class="line">    value_type&amp; <span class="keyword">operator</span>[] (size_type n)&#123;<span class="keyword">return</span> <span class="built_in">array</span>[n];&#125;</span><br><span class="line">    AVector&amp; <span class="keyword">operator</span>= (<span class="keyword">const</span> AVector&amp; av);</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">push_back</span><span class="params">(<span class="keyword">const</span> value_type&amp; value)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">(value_type* position, <span class="keyword">const</span> value_type&amp; value)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">erase</span><span class="params">(value_type* position)</span></span>;</span><br><span class="line">    <span class="function">iterator <span class="title">begin</span><span class="params">()</span> </span>&#123;<span class="keyword">return</span> <span class="built_in">array</span>;&#125;</span><br><span class="line">    <span class="function">iterator <span class="title">end</span><span class="params">()</span> </span>&#123;<span class="keyword">return</span> <span class="built_in">array</span> + usedSize;&#125;</span><br><span class="line">    <span class="function">size_type <span class="title">size</span><span class="params">()</span><span class="keyword">const</span></span>&#123;<span class="keyword">return</span> usedSize;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">AVector</span>&lt;T&gt;:</span>:AVector(<span class="keyword">const</span> AVector&amp; av)&#123;</span><br><span class="line">    <span class="built_in">array</span> = av.<span class="built_in">array</span>;</span><br><span class="line">    usedSize = av.usedSize;</span><br><span class="line">    allSize = av.allSize;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">void</span> <span class="title">AVector</span>&lt;T&gt;:</span>:push_back(<span class="keyword">const</span> value_type &amp;value)&#123;</span><br><span class="line">    <span class="keyword">if</span>(usedSize == allSize)&#123;</span><br><span class="line">        allSize *= <span class="number">2</span>;</span><br><span class="line">        <span class="built_in">array</span> = (value_type*) <span class="built_in">realloc</span>(<span class="built_in">array</span>, allSize);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">array</span>[usedSize++] = value;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">void</span> <span class="title">AVector</span>&lt;T&gt;:</span>:insert(value_type *position, <span class="keyword">const</span> value_type &amp;value)&#123;</span><br><span class="line">    size_type p = position - begin();</span><br><span class="line">    <span class="keyword">if</span>(usedSize == allSize)&#123;</span><br><span class="line">        allSize *= <span class="number">2</span>;</span><br><span class="line">        <span class="built_in">array</span> = (value_type*) <span class="built_in">realloc</span>(<span class="built_in">array</span>, allSize);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(size_type i = usedSize<span class="number">-1</span>; i &gt;= p; i--)&#123;</span><br><span class="line">        <span class="built_in">array</span>[i+<span class="number">1</span>] = <span class="built_in">array</span>[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">array</span>[p] = value;</span><br><span class="line">    usedSize++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">void</span> <span class="title">AVector</span>&lt;T&gt;:</span>:erase(value_type *position)&#123;</span><br><span class="line">    size_type ind = position - begin();</span><br><span class="line">    <span class="keyword">for</span>(size_type i = ind+<span class="number">1</span>; i &lt; usedSize; i++)&#123;</span><br><span class="line">        <span class="built_in">array</span>[i<span class="number">-1</span>] = <span class="built_in">array</span>[i];</span><br><span class="line">    &#125;</span><br><span class="line">    usedSize--;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">AVector</span>&lt;T&gt;&amp; <span class="title">AVector</span>&lt;T&gt;:</span>:<span class="keyword">operator</span>=(<span class="keyword">const</span> AVector&lt;T&gt; &amp;av)&#123;</span><br><span class="line">    <span class="keyword">while</span>(allSize &lt; av.usedSize)&#123;</span><br><span class="line">        allSize *= <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">array</span> = <span class="keyword">new</span> T[allSize];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; av.usedSize; i++)&#123;</span><br><span class="line">        <span class="built_in">array</span>[i] = *(av.<span class="built_in">array</span> + i);</span><br><span class="line">    &#125;</span><br><span class="line">    usedSize = av.usedSize;</span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="C-Review-1"><a href="#C-Review-1" class="headerlink" title="C++ Review"></a>C++ Review</h4><ul>
<li><p>copy constructor OR assignment operator</p>
<ul>
<li><p>if we first create an object by constructor, then <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">  * if we create an object by ``` ClassName object1 = object2```, it actually called copy constructor.</span><br><span class="line">* operator overloading</span><br><span class="line">  * assignment operator</span><br><span class="line">  * array index operator</span><br><span class="line">* realloc</span><br><span class="line">  * ```(value_type*) realloc(value_type* ori, size)`</span><br></pre></td></tr></table></figure></p>
</li>
<li><p>This function is used to reallocate the original array to a new block of memory with its all elements.</p>
</li>
</ul>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Xueying Han</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">64</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                
                  <span class="site-state-item-count">1</span>
                  <span class="site-state-item-name">categories</span>
                
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">4</span>
                  <span class="site-state-item-name">tags</span>
                
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Xueying Han</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
